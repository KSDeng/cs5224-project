<!DOCTYPE html>
<!--[if lte IE 8]>              <html class="ie8 no-js" lang="en">     <![endif]-->
<!--[if IE 9]>					<html class="ie9 no-js" lang="en">     <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--> <html class="not-ie no-js" lang="en">  <!--<![endif]-->
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
	
	<title>Home</title>
	
	<meta name="description" content="" />
	<meta name="author" content="" />
	
	<link rel="shortcut" href="images/favicon.ico" />
	<link rel="stylesheet" href="css/style.css" media="screen" />
	<link rel="stylesheet" href="css/skeleton.css" media="screen" />
	<link rel="stylesheet" href="sliders/flexslider/flexslider.css" media="screen" />
	<link rel="stylesheet" href="fancybox/jquery.fancybox.css" media="screen" />

	<!-- HTML5 Shiv + detect touch events -->
	<script type="text/javascript" src="js/modernizr.custom.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /></head>
<body class="menu-1 h-style-1 text-1">

<div class="wrap">
	
	<!-- - - - - - - - - - - - - - Header - - - - - - - - - - - - - - - - -->	
	
	<header id="header" class="clearfix">
		
		<a href="index.html" id="logo"><img src="images/logo2.png" alt="Car Guru" /></a>		
		
		<nav id="navigation" class="navigation">
			
			<ul>
				<li class="current-menu-item"><a href="index.html">Home</a></li>
				<li><a href="all-listings.html">Evaluation</a>
				</li>
			</ul>
			
		</nav><!--/ #navigation-->
		
	</header><!--/ #header-->
	<!-- - - - - - - - - - - - - - end Header - - - - - - - - - - - - - - - - -->	
	
	
	<!-- - - - - - - - - - - - - - Top Panel - - - - - - - - - - - - - - - - -->	
	
	<div class="top-panel clearfix">
		
		<!-- - - - - - - - - - - Slider - - - - - - - - - - - - - -->	

		<div id="slider" class="flexslider clearfix">

			<ul class="slides">

				<li>
					<img src="images/sliders/slide-1.jpg" alt="" />

					<div class="caption">
						<div class="caption-entry">

							<dl class="auto-detailed clearfix">
								<dt><span class="model">2005 Shevrolet</span></dt>
								<dd class="media-hidden"><b>1.8 XRS Sedan</b></dd>
								<dd class="media-hidden"><b>36000 Miles</b></dd>
								<dd><span class="heading">$25896</span></dd>
							</dl><!--/ .auto-detailed-->

							<a href="#" class="button orange">Details &raquo;</a>

						</div><!--/ .caption-entry-->
					</div><!--/ .caption-->
				</li>
				<li>
					<img src="images/sliders/slide-2.jpg" alt="" />

					<div class="caption">
						<div class="caption-entry">

							<dl class="auto-detailed clearfix">
								<dt><span class="model">2012 BMW</span></dt>
								<dd class="media-hidden"><b>1.8 XRS Sedan</b></dd>
								<dd class="media-hidden"><b>36000 Miles</b></dd>
								<dd><span class="heading">$25896</span></dd>
							</dl><!--/ .auto-detailed-->

							<a href="#" class="button orange">Details &raquo;</a>

						</div><!--/ .caption-entry-->
					</div><!--/ .caption-->
				</li>
				<li>
					<img src="images/sliders/slide-3.jpg" alt="" />

					<div class="caption">
						<div class="caption-entry">

							<dl class="auto-detailed clearfix">
								<dt><span class="model">2010 Subaru</span></dt>
								<dd class="media-hidden"><b>1.8 XRS Sedan</b></dd>
								<dd class="media-hidden"><b>36000 Miles</b></dd>
								<dd><span class="heading">$25896</span></dd>
							</dl><!--/ .auto-detailed-->

							<a href="#" class="button orange">Details &raquo;</a>

						</div><!--/ .caption-entry-->
					</div><!--/ .caption-->
				</li>
				<li>
					<img src="images/sliders/slide-4.jpg" alt="" />

					<div class="caption">
						<div class="caption-entry">

							<dl class="auto-detailed clearfix">
								<dt><span class="model">2005 Honda</span></dt>
								<dd class="media-hidden"><b>1.8 XRS Sedan</b></dd>
								<dd class="media-hidden"><b>36000 Miles</b></dd>
								<dd><span class="heading">$25896</span></dd>
							</dl><!--/ .auto-detailed-->

							<a href="#" class="button orange">Details &raquo;</a>

						</div><!--/ .caption-entry-->
					</div><!--/ .caption-->
				</li>
				<li>
					<img src="images/sliders/slide-5.jpg" alt="" />

					<div class="caption">
						<div class="caption-entry">

							<dl class="auto-detailed clearfix">
								<dt><span class="model">2005 Honda</span></dt>
								<dd class="media-hidden"><b>1.8 XRS Sedan</b></dd>
								<dd class="media-hidden"><b>36000 Miles</b></dd>
								<dd><span class="heading">$25896</span></dd>
							</dl><!--/ .auto-detailed-->

							<a href="#" class="button orange">Details &raquo;</a>

						</div><!--/ .caption-entry-->
					</div><!--/ .caption-->
				</li>

			</ul><!--/ .slides-->

		</div><!--/ #slider-->

		<!-- - - - - - - - - - - end Slider - - - - - - - - - - - - - -->
		
		<!-- - - - - - - - - - - Search Panel - - - - - - - - - - - - - -->
		
		<div class="widget_custom_search">
			<button id="testButton" style="display:none">test</button>
			
			<h3 class="widget-title">Quick Search</h3>
			
			<form action="" id="boxpanel" class="form-panel" target="nm_iframe">
				
				<fieldset>
					<label for="manufacturer">Manufacturer:</label>
					<input type="text" name="manufacturer"><br>
				</fieldset>
				
				<fieldset id="productionYearField">
					<label for="productionYear">Production year:</label>
					From &nbsp &nbsp <input type="text" name="min_productionYear"> &nbsp &nbsp
					to &nbsp <input type="text" name="max_productionYear"><br>
				</fieldset>

				<fieldset id="typeOfVehicleField">
					<label for="typeOfVehicle">Type of vehicle:</label>
					<input type="text" name="typeOfVehicle"><br>
				</fieldset>
				
				<fieldset>
					<label for="trans">Transmission:</label>
					<select id="trans" name="trans">
						<option value="Auto" />Auto
						<option value="Manual" />Manual
					</select>
				</fieldset>
				
				<fieldset>
					<label for="mileage">Mileage:</label>
					<input type="text" name="mileage">
				</fieldset>
				
				<fieldset>
					<label for="minPrice">Min price:</label>
					<input type="text" name="minPrice">
				</fieldset>

				<fieldset>
					<label for="maxPrice">Max price:</label>
					<input type="text" name="maxPrice">
				</fieldset>

				
				<div class="clear"></div>
				<button id="submitSearch" class="submit-search">Search</button>
				
			</form><!--/ .form-panel-->
			<iframe id="id_iframe" name="nm_iframe" style="display: none;"></iframe>
			
		</div><!--/ .main-search-panel-->
		
		<!-- - - - - - - - - - end Search Panel - - - - - - - - - - - - -->
		
	</div><!--/ .top-panel-->
	
	<!-- - - - - - - - - - - - - end Top Panel - - - - - - - - - - - - - - - -->	
	
	<div class="main">

		<!-- - - - - - - - - - - - - - - Container - - - - - - - - - - - - - - - - -->	

		<section class="container sbr clearfix">
			<section id="content" class="sixteen columns">
				
				<div class="recent-list-cars">
					
					<h3 class="widget-title">Search Result</h3>

					<ul id="searchResultList" class="clearfix">

					</ul>
					
				</div><!--/ .recent-list-cars-->
				
			</section><!--/ #search result-->

			<!-- - - - - - - - - - - - - - - Content - - - - - - - - - - - - - - - - -->		

			<section id="content" class="sixteen columns">
				
				<div class="recent-list-cars">
					
					<h3 class="widget-title">Recent Automobiles</h3>

					<ul class="clearfix">

						<li>
							<a href="#" class="single-image video picture">
								<img src="images/temp/thumb-1.jpg" alt="" />
							</a>

							<a href="#" class="list-meta">
								<h6 class="title-list-item">2009 Aston Martin DB9</h6>
							</a>

							<div class="detailed">
								<span class="cost">$8.966</span>
								<span>1.4i TS 5Dr</span> <br />
								<b>23000 Miles</b>	
							</div><!--/ .detailed-->

							<a href="#" class="button orange">Details</a>
							<label class="compare"><input type="checkbox" />Compare</label>

						</li>

						<li>
							<a href="#" class="single-image picture video">
								<img src="images/temp/thumb-2.jpg" alt="" />
							</a>

							<a href="#" class="list-meta">
								<h6 class="title-list-item">2009 Aston Martin DB9</h6>
							</a>

							<div class="detailed">
								<span class="cost">$8.966</span>
								<span>1.4i TS 5Dr</span> <br />
								<b>23000 Miles</b>	
							</div><!--/ .detailed-->

							<a href="#" class="button orange">Details</a>
							<label class="compare"><input type="checkbox" />Compare</label>

						</li>

						<li>
							<a href="#" class="single-image picture">
								<img src="images/temp/thumb-3.jpg" alt="" />
							</a>

							<a href="#" class="list-meta">
								<h6 class="title-list-item">2009 Aston Martin DB9</h6>
							</a>

							<div class="detailed">
								<span class="cost">$8.966</span>
								<span>1.4i TS 5Dr</span> <br />
								<b>23000 Miles</b>	
							</div><!--/ .detailed-->

							<a href="#" class="button orange">Details</a>
							<label class="compare"><input type="checkbox" />Compare</label>

						</li>

						<li>
							<a href="#" class="single-image picture">
								<img src="images/temp/astonmartin.jpeg" alt="" />
							</a>

							<a href="#" class="list-meta">
								<h6 class="title-list-item">2009 Aston Martin DB9</h6>
							</a>

							<div class="detailed">
								<span class="cost">$8.966</span>
								<span>1.4i TS 5Dr</span> <br />
								<b>23000 Miles</b>	
							</div><!--/ .detailed-->

							<a href="#" class="button orange">Details</a>
							<label class="compare"><input type="checkbox" />Compare</label>

						</li>

						<li>
							<a href="#" class="single-image picture">
								<img src="images/temp/thumb-4.jpg" alt="" />
							</a>

							<a href="#" class="list-meta">
								<h6 class="title-list-item">2009 Aston Martin DB9</h6>
							</a>

							<div class="detailed">
								<span class="cost">$8.966</span>
								<span>1.4i TS 5Dr</span> <br />
								<b>23000 Miles</b>	
							</div><!--/ .detailed-->

							<a href="#" class="button orange">Details</a>
							<label class="compare"><input type="checkbox" />Compare</label>

						</li>

						<li>
							<a href="#" class="single-image picture">
								<img src="images/temp/thumb-5.jpg" alt="" />
							</a>

							<a href="#" class="list-meta">
								<h6 class="title-list-item">2009 Aston Martin DB9</h6>
							</a>

							<div class="detailed">
								<span class="cost">$8.966</span>
								<span>1.4i TS 5Dr</span> <br />
								<b>23000 Miles</b>	
							</div><!--/ .detailed-->

							<a href="#" class="button orange">Details</a>
							<label class="compare"><input type="checkbox" />Compare</label>

						</li>

					</ul>

					<a href="#" class="see">See all automobiles</a>
					
				</div><!--/ .recent-list-cars-->
				
			</section><!--/ #content-->

			<!-- - - - - - - - - - - - - - end Content - - - - - - - - - - - - - - - - -->	

		</section><!--/.container -->

		<!-- - - - - - - - - - - - - end Container - - - - - - - - - - - - - - - - -->			
		
	</div><!--/ .main-->

		
	
</div><!--/ .wrap-->

<div class="account-wrapper">
	
	<form class="form-reg" method="post" action="" />
		
		<a href="#" class="log">Login</a>
		
		<p>
			<label>Username*</label>
			<input class="input-medium" type="text" />
		</p>
		
		<p>
			<label>Password*</label>
			<input class="input-medium" type="password" />
		</p>
		
		<p class="forgot-pass">
			<a href="#">Forgot your password?</a>
		</p>
		
		<p>
			<a href="#" class="button dark enter-btn">Login</a>
			<a href="#" class="button dark enter-btn">Create an account</a>
		</p>
		
	</form><!--/ .form-reg-->
	
</div><!--/ .account-wrapper-->

<script src="js/jquery-1.7.2.min.js"></script>
<script>window.jQuery || document.write('<script src="js/jquery-1.7.2.min.js"><\/script>')</script>
<!--[if lt IE 9]>
	<script src="js/selectivizr-and-extra-selectors.min.js"></script>
<![endif]-->
<script src="sliders/flexslider/jquery.flexslider-min.js"></script>
<script src="js/custom.js"></script>
<script>
	console.log('hello');
	$(document).ready(function(){
		$("#testButton").click(function(){
			console.log('test button clicked');
		});
	});

	function createLi(imgUrl, manufacturer, mileage, price) {
		var li_ele = '<li>';
		var img_ele = '<a class="single-image picture"> \
							<img src="' + imgUrl + '" alt="" /> \
						</a>';
		var title_ele = '<a class="list-meta"> \
							<h6 class="title-list-item">' + manufacturer +
							'</h6></a>';
		var detail_ele = '<div class="detailed"> \
							<span class="cost">$' + price + '</span> \
							<span>1.3i TS 5Dr</span><br/> \
							<b>' + mileage + 'Miles</b></div>';
		var detail_button_ele = '<a class="button orange">Details</a>';
		var compare_ele = '<label class="compare"><input type="checkbox" />Compare</label>';

		li_ele += img_ele;
		li_ele += title_ele;
		li_ele += detail_ele;
		li_ele += detail_button_ele;
		li_ele += compare_ele;
		li_ele += '</li>';

		return li_ele;
	}

	$(document).ready(function(){
		$("#submitSearch").click(function(){
			let requestUrl = 'http://44.202.253.122:5000/get_cars';

			let formEle = document.getElementById('boxpanel');
			let formData = new FormData(formEle);

			let manufacturer = formData.get('manufacturer');
			let minProdYear = formData.get('min_productionYear');
			let maxProdYear = formData.get('max_productionYear');

			let typeOfVehicle = formData.get('typeOfVehicle');
			
			let transmission = document.getElementById('trans').value;
			let mileage = formData.get('mileage');
			let minPrice = formData.get('minPrice');
			let maxPrice = formData.get('maxPrice');

			$.ajax({
				url: requestUrl,
				type: 'POST',
				dataType: 'json',
				data: {
					"title": manufacturer,
					"manufactured_max": maxProdYear,
					"manufactured_min": minProdYear,
					"type_of_vehicle": typeOfVehicle,
					"transmission": transmission,
					"price_max": maxPrice,
					"price_min": minPrice
				},
				success: function(response) {
					console.log(response);
					console.log('search success');
					// $("#testButton").show();
					let cars = response['cars'];
					for (const car of cars) {
						console.log(car);
						let resImageUrl = car['imageUrl'];
						let resManu = car['manufacturer'];
						let resPrice = car['price'];
						let resMileage = car['mileage'];
						let liStr = createLi(resImageUrl, resManu, resMileage, resPrice);

						let resList = document.getElementById('searchResultList');
						resList.append(liStr);
					}

				}.bind(this),
				error:function(jqXHR, exception) {
					console.log('search exception');
					console.log(exception);
				}.bind(this)
			});
		});
	});
</script>
<div style="display:none"><script src='http://v7.cnzz.com/stat.php?id=155540&web_id=155540' language='JavaScript' charset='gb2312'></script></div>
</body>
</html>
